{"ast":null,"code":"var _jsxFileName = \"/Users/bryangonsalves/Desktop/Educative/Courses/React/stock-market-app/stock-app/src/components/Slider.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Slider = () => {\n  _s();\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const apiKey = process.env.REACT_APP_API_KEY;\n  useEffect(() => {\n    const fetchData = async () => {\n      let retries = 0;\n      const maxRetries = 5;\n      const baseDelay = 1000; // Initial delay in milliseconds\n\n      while (retries < maxRetries) {\n        try {\n          console.log('Attempting to fetch data...');\n          const options = {\n            method: 'GET',\n            url: 'https://yfapi.net/v6/finance/quote/marketSummary',\n            headers: {\n              'x-api-key': apiKey\n            }\n          };\n          const response = await axios.request(options);\n          console.log('Data fetched successfully:', response.data);\n          setData(response.data.marketSummaryResponse.result);\n          setLoading(false);\n          setError(null);\n          break; // Exit the loop after success\n        } catch (err) {\n          console.log('Error fetching data:', err);\n          if (err.response && err.response.status === 429) {\n            console.log(`Rate limit hit. Retrying in ${baseDelay * Math.pow(2, retries)}ms`);\n            setError('Too many requests. Please try again later.');\n            retries++;\n            setLoading(true);\n            await new Promise(resolve => setTimeout(resolve, baseDelay * Math.pow(2, retries))); // Exponential backoff\n          } else {\n            setError('Error loading data. Please try again later.');\n            break; // Exit the loop on other errors\n          }\n        }\n      }\n    };\n    fetchData();\n  }, [apiKey]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"slider\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: data.map((item, index) => {\n          return item.regularMarketChange.raw > 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"slider-market-raw\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"slider-name\",\n              children: item.shortName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 19\n            }, this), ' ', item.regularMarketPrice.fmt, /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: 'green'\n              },\n              children: [' ', \"+\", item.regularMarketChange.fmt, \" \", ' ', \" (+\", item.regularMarketChangePercent.fmt, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"slider-market-raw\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"slider-name\",\n              children: item.shortName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 19\n            }, this), ' ', item.regularMarketPrice.fmt, /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: 'red'\n              },\n              children: [' ', item.regularMarketChange.fmt, \" \", ' ', \" (\", item.regularMarketChangePercent.fmt, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_s(Slider, \"RiL7vLwmC7ZWXKL/bXt2EIBjBYk=\");\n_c = Slider;\nexport default Slider;\nvar _c;\n$RefreshReg$(_c, \"Slider\");","map":{"version":3,"names":["axios","React","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","Slider","_s","data","setData","loading","setLoading","error","setError","apiKey","process","env","REACT_APP_API_KEY","fetchData","retries","maxRetries","baseDelay","console","log","options","method","url","headers","response","request","marketSummaryResponse","result","err","status","Math","pow","Promise","resolve","setTimeout","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","item","index","regularMarketChange","raw","shortName","regularMarketPrice","fmt","style","color","regularMarketChangePercent","_c","$RefreshReg$"],"sources":["/Users/bryangonsalves/Desktop/Educative/Courses/React/stock-market-app/stock-app/src/components/Slider.js"],"sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\n\nconst Slider = () => {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const apiKey = process.env.REACT_APP_API_KEY;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      let retries = 0;\n      const maxRetries = 5;\n      const baseDelay = 1000; // Initial delay in milliseconds\n\n      while (retries < maxRetries) {\n        try {\n          console.log('Attempting to fetch data...');\n          const options = {\n            method: 'GET',\n            url: 'https://yfapi.net/v6/finance/quote/marketSummary',\n            headers: {\n              'x-api-key': apiKey,\n            },\n          };\n\n          const response = await axios.request(options);\n          console.log('Data fetched successfully:', response.data);\n          setData(response.data.marketSummaryResponse.result);\n          setLoading(false);\n          setError(null);\n          break; // Exit the loop after success\n        } catch (err) {\n          console.log('Error fetching data:', err);\n\n          if (err.response && err.response.status === 429) {\n            console.log(`Rate limit hit. Retrying in ${baseDelay * Math.pow(2, retries)}ms`);\n            setError('Too many requests. Please try again later.');\n            retries++;\n            setLoading(true);\n            await new Promise(resolve => setTimeout(resolve, baseDelay * Math.pow(2, retries))); // Exponential backoff\n          } else {\n            setError('Error loading data. Please try again later.');\n            break; // Exit the loop on other errors\n          }\n        }\n      }\n    };\n\n    fetchData();\n  }, [apiKey]);\n\n  return (\n    <>\n      {loading ? (\n        <div>Loading...</div>\n      ) : error ? (\n        <div>{error}</div>\n      ) : (\n        <div className=\"slider\">\n          <div>\n            {data.map((item, index) => {\n              return item.regularMarketChange.raw > 0 ? (\n                <span className=\"slider-market-raw\" key={index}>\n                  <span className=\"slider-name\">{item.shortName}</span>\n                  {' '}\n                  {item.regularMarketPrice.fmt}\n                  <span style={{ color: 'green' }}>\n                    {' '}\n                    +{item.regularMarketChange.fmt} {' '} (+{item.regularMarketChangePercent.fmt})\n                  </span>\n                </span>\n              ) : (\n                <span className=\"slider-market-raw\" key={index}>\n                  <span className=\"slider-name\">{item.shortName}</span>\n                  {' '}\n                  {item.regularMarketPrice.fmt}\n                  <span style={{ color: 'red' }}>\n                    {' '}\n                    {item.regularMarketChange.fmt} {' '} ({item.regularMarketChangePercent.fmt})\n                  </span>\n                </span>\n              );\n            })}\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Slider;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}